# v2.7 to 2.8

## Tini as entrypoint

With the 2.8 release `entrypoint.sh` will be removed from the containers,
because starting with 2.7, the implicit entrypoint is set to `tini` in the
`Dockerfile` explicitly, and the kubernetes manifests has been updated to use
it. Simply updating the containers without updating the deployment manifests
will result in pod startup failures, as the old manifests are relying on
`entrypoint.sh` instead of `tini`. Please make sure the manifests are updated
properly before moving to 2.8.

## Filtering applied to cluster `List` API endpoint

Prior to `v2.8`, the `List` endpoint on the `ClusterService` did **not** filter
clusters when responding, despite accepting query parameters. This bug has
been addressed, and query parameters are now taken into account to filter the
resulting list of clusters.

## `managedNamespaceMetadata` no longer preserves client-side-applied labels or annotations

Argo CD 2.8 upgraded kubectl from 1.24 to 1.26. This upgrade introduced a change where client-side-applied labels and 
annotations are no longer preserved when using a server-side kubectl apply. This change affects the 
`managedNamespaceMetadata` field of the `Application` CRD. Previously, labels and annotations applied via a client-side
apply would be preserved when `managedNamespaceMetadata` was enabled. Now, those existing labels and annotation will be
removed.

To avoid unexpected behavior, follow the [client-side to server-side resource upgrade guide](https://kubernetes.io/docs/reference/using-api/server-side-apply/#upgrading-from-client-side-apply-to-server-side-apply)
before enabling `managedNamespaceMetadata` on an existing namespace.
