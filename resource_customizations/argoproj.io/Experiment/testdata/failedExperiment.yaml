apiVersion: argoproj.io/v1alpha1
kind: Experiment
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: >
      {"apiVersion":"argoproj.io/v1alpha1","kind":"Experiment","metadata":{"annotations":{},"labels":{"app.kubernetes.io/instance":"rollouts-canary"},"name":"example-experiment","namespace":"default"},"spec":{"analyses":[{"name":"test","templateName":"analysis-template"}],"duration":60,"templates":[{"name":"baseline","selector":{"matchLabels":{"app":"rollouts-demo","color":"blue"}},"template":{"metadata":{"labels":{"app":"rollouts-demo","color":"blue"}},"spec":{"containers":[{"image":"argoproj/rollouts-demo:blue","name":"guestbook"}]}}},{"name":"canary","selector":{"matchLabels":{"app":"rollouts-demo","color":"yellow"}},"template":{"metadata":{"labels":{"app":"rollouts-demo","color":"yellow"}},"spec":{"containers":[{"image":"argoproj/rollouts-demo:yellow","name":"guestbook"}]}}}]}}
  creationTimestamp: '2019-10-28T20:57:57Z'
  generation: 10
  labels:
    app.kubernetes.io/instance: rollouts-canary
  name: example-experiment
  namespace: default
  resourceVersion: '28577147'
  selfLink: /apis/argoproj.io/v1alpha1/namespaces/default/experiments/example-experiment
  uid: 9e8bc5fb-f9c5-11e9-a15b-42010aa80033
spec:
  analyses:
    - name: test
      templateName: analysis-template
  duration: 60
  templates:
    - name: baseline
      selector:
        matchLabels:
          app: rollouts-demo
          color: blue
      template:
        metadata:
          labels:
            app: rollouts-demo
            color: blue
        spec:
          containers:
            - image: 'argoproj/rollouts-demo:blue'
              name: guestbook
    - name: canary
      selector:
        matchLabels:
          app: rollouts-demo
          color: yellow
      template:
        metadata:
          labels:
            app: rollouts-demo
            color: yellow
        spec:
          containers:
            - image: 'argoproj/rollouts-demo:yellow'
              name: guestbook
status:
  analysisRuns:
    - analysisRun: example-experiment-test-57vl8
      name: test
      status: Failed
  availableAt: '2019-10-28T20:58:00Z'
  conditions:
    - lastTransitionTime: '2019-10-28T20:57:58Z'
      lastUpdateTime: '2019-10-28T20:58:01Z'
      message: Experiment "example-experiment" is running.
      reason: NewReplicaSetAvailable
      status: 'True'
      type: Progressing
  status: Failed
  templateStatuses:
    - availableReplicas: 0
      lastTransitionTime: '2019-10-28T20:58:01Z'
      name: baseline
      readyReplicas: 0
      replicas: 0
      status: Successful
      updatedReplicas: 0
    - availableReplicas: 0
      lastTransitionTime: '2019-10-28T20:58:01Z'
      name: canary
      readyReplicas: 0
      replicas: 0
      status: Successful
      updatedReplicas: 0
